# ljg-cards

文字变阅读卡 — 一个 Claude Code Skill，将任意文本渲染为精美的 PNG 阅读卡片。

## 功能

- **默认长图模式**：所有内容渲染为一张 1080px 宽的长图，高度自适应
- **多卡模式**（`-m`）：自动按视觉重量切分为多张 1080×1440 卡片
- **CJK 优先排版**：KingHwa_OldSong + PingFang SC，正文 36px，行高 1.7
- **语义化结构**：标题、条目组、金句高亮、引用块、分割线，自动映射为视觉组件
- **白色极简主题**：干净的白底黑字设计，金句左侧竖线强调

## 安装

```bash
claude plugin add lijigang/ljg-cards
```

安装后需要初始化 Playwright：

```bash
cd ~/.claude/skills/ljg-cards && npm install && npx playwright install chromium
```

## 使用

```
/ljg-cards [文本或文件路径]
```

默认生成一张长图。添加 `-m` 参数切换为多卡模式：

```
/ljg-cards -m [文本或文件路径]
```

触发短语：`做成卡片`、`生成阅读卡`、`reading card`、`卡片`

## 输出

PNG 文件保存到 `~/Downloads/`。

### 默认模式

一张长图，宽 1080px，高度由内容撑开：

```
+---------------------------+
|                           |
|   标题（84px 粗体）        |
|   ───                     |
|                           |
|   正文段落                 |
|                           |
|   ┃ 金句高亮（40px）       |
|                           |
|   条目标题                 |
|   条目正文（灰色）         |
|                           |
|   ─────────────────       |
|   logo  来源               |
+---------------------------+
       1080px × auto
```

### 多卡模式（`-m`）

自动切分为多张 1080×1440 卡片，带页码和续页标题：

```
+------------------+  +------------------+
|   标题            |  |   续页标题（灰）   |
|   ───            |  |                  |
|   内容 ...       |  |   内容 ...       |
|                  |  |                  |
|  logo 来源 1/3   |  |  logo 来源 2/3   |
+------------------+  +------------------+
```

## 视觉重量算法（多卡模式）

切分基于视觉重量而非字符数：

| 元素 | 权重系数 |
|------|---------|
| 普通段落 | 字符数 × 1.4 |
| 标题 h1 | 字符数 × 6.0 |
| 金句 `.highlight` | 字符数 × 3.0 |
| 条目组 `.item` | 字符数 × 1.8 |
| 引用块 | 字符数 × 1.7 |
| 分割线 | 固定 60 |

每卡阈值约 380 视觉重量单位，在段落/章节边界切分。

## 依赖

- Node.js
- Playwright (Chromium)

## License

MIT
